<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.spring.vend.mapper.VendMapper">
	<!-- 전체조회 -->
	<select id="selectVendAllList" resultType="VendVO">
		SELECT	vend_cd,
				vend_nm,
				br_num,
				vend_tel,
				vend_mag,
				remk,
				vend_typ
		FROM	vend
	</select>
	
	<!-- 매입처 코드 조회 -->
	<select id="getVendInCd" resultType="VendVO">
		SELECT 	NVL(MAX(SUBSTR(vend_cd, 4)),0) + 1 as vendCd
		FROM 	vend
		WHERE	vend_cd LIKE 'VEI%'
	</select>
	
	<!-- 매출처 코드 조회 -->
	<select id="getVendOutCd" resultType="VendVO">
		SELECT 	NVL(MAX(SUBSTR(vend_cd, 4)),0) + 1 as vendCd
		FROM 	vend
		WHERE	vend_cd LIKE 'VEO%'
	</select>
	
	<insert id="insertVendInfo" parameterType="VendVO">
		INSERT INTO vend (vend_cd,
						  vend_nm, 
						  br_num, 
						  vend_tel, 
						  vend_mag, 
						  remk, 
						  vend_typ)
				  VALUES (#{vendCd},
				  		  #{vendNm},
				  		  #{brNum},
				  		  #{vendTel},
				  		  #{vendMag},
				  		  #{remk},
				  		  #{vendTyp})
	</insert>
</mapper>