<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Info/aryEx.html</title>
  </head>
  <body>
    <div id="show">
      <table border="1">
        <thead id="head"></thead>
        <tbody id="list"></tbody>
      </table>
    </div>

    <script>
      const fruits = [
        { name: "apple", price: 100, like: 4.5 },
        { name: "banana", price: 300, like: 1.5 },
        { name: "cherry", price: 500, like: 3.0 },
      ];
      const titles = ["과일", "가격", "선호도"];
      titles.forEach((title) => {
        let th = document.createElement("th");
        th.innerText = title;
        head.append(th);
      });
      // fruits.forEach((fruit, idx, arr) => {
      //   let tr = document.createElement("tr");
      //   //for 속성값(키값) in
      //   for (let prop in fruit) {
      //     let td = document.createElement("td");
      //     td.innerText = fruit[prop];
      //     tr.append(td);
      //   }
      //   list.append(tr);
      // });

      let result = fruits.reduce((acc, item, idx) => {
        let tr = document.createElement("tr");
        for (let prop in item) {
          let td = document.createElement("td");
          td.innerText = item[prop];
          tr.append(td);
        }
        acc.append(tr);
        return acc;
      }, document.getElementById("list"));
      console.log(result);

      // //선호도 4 이상 요소를 over4에 저장
      // let over4 = [];
      // fruits.forEach((fruit) => {
      //   if (fruit.like > 4) {
      //     over4.push(fruit);
      //   }
      // });
      // console.log(over4);

      // //filter메소드는 해당 조건을 가진 배열을 다시 생성
      // over4 = fruits.filter((fruit) => fruit.like >= 4);
      // console.log(over4);

      // document.querySelectorAll("#list tr").forEach((tr) => {
      //   tr.firstChild.style.backgroundColor = "yellow";
      // });
      // //map메소드 조건에 맞는 새로운 배열 생성
      // let nFruits = fruits.map((fruit, idx) => {
      //   let nFruit = {};
      //   nFruit.ord = idx + 1;
      //   nFruit.fname = fruit.name;
      //   nFruit.price = fruit.price;
      //   return nFruit;
      // });
      // console.log(nFruits);

      // //fruits의 배열에 있는 가격의 합
      // let priceSum = 0;
      // fruits.forEach((fruit) => {
      //   priceSum += fruit.price;
      // });
      // console.log("가격의 합 : " + priceSum);
      // console.clear();

      // let result = fruits.reduce((accum, item, idx, ary) => {
      //   console.log(accum, item, idx, ary);
      //   return (accum += item.price);
      // }, 0);
      // console.log(result);

      // result = fruits.reduce((accum, item, idx, ary) => {
      //   console.log(accum, item, idx, ary);
      //   return accum > item.like ? accum : item.like;
      // }, 0); //초기값
      // console.log(result);

      //평점평균 계산
      result = fruits.reduce((accum, item, idx, ary) => {
        console.log(accum, item, idx, ary);
        return (accum += item.like);
      }, 0);
      console.log(result / fruits.length);
    </script>
  </body>
</html>
