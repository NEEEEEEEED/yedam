"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[426],{3426:function(t,e,o){o.r(e),o.d(e,{default:function(){return R}});var l=o(3396);const s={class:"card flex justify-content-center",style:{margin:"0px"}},r=(0,l._)("br",null,null,-1);function a(t,e,o,a,n,i){const d=(0,l.up)("Column"),c=(0,l.up)("Dropdown"),p=(0,l.up)("DataTable"),u=(0,l.up)("Button"),h=(0,l.up)("toast");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(p,{value:n.rprtList,selection:n.selectedRprt,"onUpdate:selection":e[0]||(e[0]=t=>n.selectedRprt=t),dataKey:"rprtNo"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{selectionMode:"multiple",headerStyle:"width: 3rem"}),(0,l.Wm)(d,{field:"rprtNo",header:"신고번호"}),(0,l.Wm)(d,{field:"rprter",header:"신고자"}),(0,l.Wm)(d,{field:"rprtResn",header:"신고사유"}),(0,l.Wm)(d,{field:"rprtTm",header:"신고날짜"}),(0,l.Wm)(d,{field:"rprtSt",header:"처리상태"}),(0,l.Wm)(d,{style:{width:"5rem"}},{body:(0,l.w5)((t=>[(0,l._)("div",s,[(0,l.Wm)(c,{modelValue:t.data.selectedSt,"onUpdate:modelValue":e=>t.data.selectedSt=e,options:n.status,optionLabel:"name",placeholder:"신고처리",class:"w-full md:w-14rem"},null,8,["modelValue","onUpdate:modelValue","options"])])])),_:1})])),_:1},8,["value","selection"]),r,(0,l.Wm)(u,{type:"button",label:"Cancel",icon:"pi pi-times",onClick:e[1]||(e[1]=t=>i.closeDialog()),text:""}),(0,l.Wm)(u,{type:"button",label:"Save",icon:"pi pi-check",onClick:e[2]||(e[2]=t=>i.saveDialog()),autofocus:""}),(0,l.Wm)(h)])}o(7658);var n=o(3712),i=o(3717),d=o(4161);const c={getReportData(t){return console.log(t),d.Z.post("/api/getReportData",t).then((t=>(console.log(t.data),t.data))).catch((t=>{console.log(t)}))},modifyRprt(t){return d.Z.post("/api/modifyRprt",t).then((t=>(console.log(t.data),t.data))).catch((t=>{console.log(t)}))}};var p=o(5517),u=o(1826),h=o(9719),m={inject:["dialogRef"],props:["no"],components:{Dropdown:p.Z,DataTable:n.Z,Column:i.Z,Button:u.Z,Toast:h.Z},data(){return{selectedRprt:null,rprtList:[],status:[]}},async mounted(){console.log(this.dialogRef.data.no),c.getReportData(this.dialogRef.data.no).then((t=>{this.rprtList=t.list,this.status=t.rprt;for(let e=0;e<this.rprtList.length;e++){this.rprtList[e].selectedSt={};for(let t=0;t<this.status.length;t++)this.rprtList[e].rprtSt===this.status[t].name&&(this.rprtList[e].selectedSt=this.status[t])}}))},methods:{selectProduct(t){this.dialogRef.close(t)},saveDialog(){if(null==this.selectedRprt)return void this.$toast.add({severity:"info",summary:"수정할 신고내역을 선택해주세요",life:1e3});let t=[];for(let e=0;e<this.selectedRprt.length;e++){let o={};console.log(this.selectedRprt[e].selectedSt.code),console.log(this.selectedRprt[e].rprtNo),o.rprtNo=this.selectedRprt[e].rprtNo,o.rprtSt=this.selectedRprt[e].selectedSt.code,t.push(o)}console.log(t),c.modifyRprt(t).then((t=>{this.dialogRef.close(t)}))},closeDialog(){this.dialogRef.close()}}},f=o(89);const g=(0,f.Z)(m,[["render",a]]);var R=g}}]);
//# sourceMappingURL=426.e8669040.js.map